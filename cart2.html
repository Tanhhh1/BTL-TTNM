<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Giỏ hàng</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body {
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 0;
      background: #fff;
      color: #333;
    }

    header {
      background: #fff;
      border-bottom: 2px solid #000;
      padding: 15px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    nav a {
      margin: 0 15px;
      text-decoration: none;
      color: #000;
      font-size: 14px;
    }

    .logo {
      font-weight: bold;
      font-size: 24px;
    }

    .icons i {
      font-size: 18px;
      margin-left: 20px;
      cursor: pointer;
    }

    main {
      max-width: 1000px;
      margin: 50px auto;
      padding: 0 20px;
      text-align: center;
    }

    h2 {
      font-size: 22px;
      font-weight: 600;
      margin-bottom: 5px;
    }

    p.sub-text {
      color: #666;
      font-size: 14px;
      margin-bottom: 40px;
    }

    .cart-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 30px;
    }

    .cart-table thead {
      background: #3c3840;
      color: white;
    }

    .cart-table th, .cart-table td {
      padding: 12px;
      font-size: 14px;
      border-bottom: 1px solid #ddd;
      text-align: center;
    }

    .product-img {
      width: 60px;
    }

    .qty-btn {
      width: 28px;
      height: 28px;
      font-size: 16px;
      margin: 0 5px;
      cursor: pointer;
    }

    .remove-btn {
      background: none;
      color: red;
      border: none;
      font-size: 16px;
      cursor: pointer;
    }

    .checkout-btn {
      display: inline-block;
      padding: 10px 25px;
      background: #3c3840;
      color: white;
      font-size: 14px;
      text-decoration: none;
      margin-top: 10px;
    }

    .empty-msg {
      font-weight: bold;
      font-size: 16px;
      padding: 50px 0;
    }

    footer {
      margin-top: 60px;
      background-color: #f5f5f5;
      padding: 40px;
      font-size: 13px;
      color: #333;
    }

    footer .columns {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
    }

    footer h4 {
      font-weight: 600;
      margin-bottom: 10px;
    }

    footer ul {
      list-style: none;
      padding: 0;
    }

    footer ul li {
      margin-bottom: 6px;
    }

    footer .logo {
      font-weight: bold;
      font-size: 20px;
      margin-bottom: 10px;
    }

    footer .copyright {
      margin-top: 30px;
      text-align: center;
      font-size: 12px;
    }

    .overlay {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 999;
    }

    .hidden { display: none; }

    .popup {
      background: #fff;
      padding: 30px;
      border-radius: 8px;
      text-align: center;
      max-width: 300px;
    }

    .popup h3 {
      margin-bottom: 10px;
    }

    .popup button {
      padding: 8px 15px;
      margin: 5px;
      border: none;
      cursor: pointer;
      font-size: 14px;
    }

    .cancel-btn {
      background: #ccc;
    }

    .confirm-btn {
      background: #e53935;
      color: white;
    }
  </style>
</head>
<body>

<header>
  <div class="logo">ANITA</div>
  <nav>
    <a href="#">Trang Chủ</a>
    <a href="#">Sản Phẩm</a>
    <a href="#">Giới Thiệu</a>
    <a href="#">Liên Hệ</a>
    <span class="icons">
      <i class="fas fa-cart-shopping"></i>
      <i class="fas fa-user"></i>
    </span>
  </nav>
</header>

<main>
  <h2>GIỎ HÀNG CỦA BẠN</h2>
  <p class="sub-text">Xem lại các sản phẩm bạn đã chọn trước khi tiến hành thanh toán.</p>

  <table class="cart-table">
    <thead>
      <tr>
        <th>ẢNH</th>
        <th>SẢN PHẨM</th>
        <th>GIÁ</th>
        <th>SỐ LƯỢNG</th>
        <th>TỔNG TIỀN</th>
      </tr>
    </thead>
    <tbody id="cart-body">
      <tr>
        <td><img class="product-img" src="https://via.placeholder.com/60" alt=""></td>
        <td>CHAIN BRACELET</td>
        <td class="price">1.000.000</td>
        <td>
          <button class="qty-btn minus">−</button>
          <span class="qty">1</span>
          <button class="qty-btn plus">+</button>
          <button class="remove-btn">✖</button>
        </td>
        <td class="subtotal">1.000.000</td>
      </tr>
      <tr>
        <td><img class="product-img" src="https://via.placeholder.com/60" alt=""></td>
        <td>PEARL BRACELET</td>
        <td class="price">2.000.000</td>
        <td>
          <button class="qty-btn minus">−</button>
          <span class="qty">2</span>
          <button class="qty-btn plus">+</button>
          <button class="remove-btn">✖</button>
        </td>
        <td class="subtotal">4.000.000</td>
      </tr>
    </tbody>
  </table>

  <div class="empty-msg hidden">KHÔNG CÓ SẢN PHẨM TRONG GIỎ HÀNG</div>

  <a href="order.html" class="checkout-btn">TIẾN HÀNH ĐẶT HÀNG</a>
</main>

<!-- Popup -->
<div class="overlay hidden" id="popup-overlay">
  <div class="popup">
    <h3>Xóa sản phẩm?</h3>
    <p>Bạn có chắc muốn xóa sản phẩm này khỏi giỏ hàng?</p>
    <button class="cancel-btn">Hủy</button>
    <button class="confirm-btn">Xóa</button>
  </div>
</div>

<footer>
  <div class="columns">
    <div>
      <div class="logo">ANITA</div>
      <p>Kế hoạch phát triển này sẽ giúp bạn đạt được các quyền tâm và mục tiêu mà bạn đang phấn đấu hướng tới.</p>
    </div>
    <div>
      <h4>Trang Chủ</h4>
      <ul><li>Sản phẩm</li><li>Giới thiệu</li><li>Liên hệ</li></ul>
    </div>
    <div>
      <h4>Thông tin</h4>
      <ul><li>Chính sách bảo mật</li><li>Điều khoản sử dụng</li><li>Hỗ trợ khách hàng</li></ul>
    </div>
    <div>
      <h4>Hỗ trợ</h4>
      <ul><li>Câu hỏi thường gặp</li><li>Chính sách đổi trả</li><li>Phương thức thanh toán</li></ul>
    </div>
  </div>
  <div class="copyright">© 2077 ANITA. All rights reserved.</div>
</footer>

<script>
  const formatCurrency = n => n.toLocaleString('vi-VN');
  const parseCurrency = str => parseInt(str.replace(/\./g, ''));

  document.addEventListener('DOMContentLoaded', () => {
    const cartBody = document.getElementById('cart-body');
    const popup = document.getElementById('popup-overlay');
    let rowToDelete = null;

    cartBody.addEventListener('click', e => {
      const btn = e.target;
      const row = btn.closest('tr');
      const qtySpan = row.querySelector('.qty');
      let qty = parseInt(qtySpan.textContent);
      const price = parseCurrency(row.querySelector('.price').textContent);

      if (btn.classList.contains('plus')) {
        qty++;
      } else if (btn.classList.contains('minus')) {
        if (qty > 1) qty--;
      } else if (btn.classList.contains('remove-btn')) {
        rowToDelete = row;
        popup.classList.remove('hidden');
        return;
      }
      qtySpan.textContent = qty;
      row.querySelector('.subtotal').textContent = formatCurrency(price * qty);
    });

    document.querySelector('.cancel-btn').onclick = () => {
      popup.classList.add('hidden');
      rowToDelete = null;
    };

    document.querySelector('.confirm-btn').onclick = () => {
      if (rowToDelete) {
        rowToDelete.remove();
        rowToDelete = null;
      }
      popup.classList.add('hidden');
      if (cartBody.children.length === 0) {
        document.querySelector('.empty-msg').classList.remove('hidden');
      }
    };
  });
</script>

</body>
</html>
